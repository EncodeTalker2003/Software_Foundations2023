<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="common/css/sf.css" rel="stylesheet" type="text/css" />
<title>Himpl: Heap Entailment</title>
<link href="common/jquery-ui/jquery-ui.css" rel="stylesheet">
<script src="common/jquery-ui/external/jquery/jquery.js"></script>
<script src="common/jquery-ui/jquery-ui.js"></script>
<script src="common/toggleproofs.js"></script>
<link href="common/css/slf.css" rel="stylesheet" type="text/css"/>
</head>

<body>

<div id="page">

<div id="header">
<div id='logoinheader'><a href='https://softwarefoundations.cis.upenn.edu'>
<img src='common/media/image/sf_logo_sm.png' alt='Software Foundations Logo'></a></div>
<div class='booktitleinheader'><a href='index.html'>Volume 6: Separation Logic Foundations</a></div>
<ul id='menu'>
   <li class='section_name'><a href='toc.html'>Table of Contents</a></li>
   <li class='section_name'><a href='coqindex.html'>Index</a></li>
   <li class='section_name'><a href='deps.html'>Roadmap</a></li>
</ul>
</div>

<div id="main">

<h1 class="libtitle">Himpl<span class="subtitle">Heap Entailment</span></h1>


<div class="code">

<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">SLF</span> <span class="id" title="keyword">Require</span> <a class="idref" href="LibSepReference.html#"><span class="id" title="library">LibSepReference</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">SLF</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="Hprop.html#"><span class="id" title="library">Hprop</span></a>.<br/>
</div>

<div class="doc">
Implicit Types 
</div>
<div class="code">

<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <span class="id" title="keyword">Prop</span>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">H</span> : <a class="idref" href="Hprop.html#hprop"><span class="id" title="definition">hprop</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="LibSepReference.html#val"><span class="id" title="inductive">val</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="Hprop.html#hprop"><span class="id" title="definition">hprop</span></a>.<br/>
</div>

<div class="doc">
<a id="lab114"></a><h1 class="section">First Pass</h1>

<div class="paragraph"> </div>

 In the previous chapter, we have introduced the type <span class="inlinecode"><span class="id" title="var">hprop</span></span> and the key
    operators over this type: <span class="inlinecode"><span class='gray-font'>\</span>[]</span>, <span class="inlinecode"><span class='gray-font'>\</span>[<span class="id" title="var">P</span>]</span>, <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">~~&gt;</span> <span class="inlinecode"><span class="id" title="var">v</span></span>, <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span>, <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span> <span class="inlinecode"><span class='gray-font'>\</span>*+</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span>,
    and <span class="inlinecode"><span class='gray-font'>\</span><span class="id" title="tactic">∃</span></span> <span class="inlinecode"><span class="id" title="var">x</span>,</span> <span class="inlinecode"><span class="id" title="var">H</span></span>.

<div class="paragraph"> </div>

    In order to state the reasoning rules of Separation Logic, we need to
    introduce the "entailment relation" on heap predicates. This relation,
    written <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span>, asserts that any heap that satisfies <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> also
    satisfies <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span>. We also need to extend the entailment relation to
    postconditions. We write <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span> <span class="inlinecode">===&gt;</span> <span class="inlinecode"><span class="id" title="var">Q<sub>2</sub></span></span> to asserts that, for any result value
    <span class="inlinecode"><span class="id" title="var">v</span></span>, the entailment <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">Q<sub>2</sub></span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> holds.

<div class="paragraph"> </div>

    For example, the "consequence-frame rule", exploited by the tactic <span class="inlinecode"><span class="id" title="var">xapp</span></span>
    for reasoning about every function call, is stated using entailements for
    pre- and postconditions. This rule explains how to derive a triple of the
    from <span class="inlinecode"><span class="id" title="var">triple</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode"><span class="id" title="var">Q</span></span>, knowing that the term <span class="inlinecode"><span class="id" title="var">t</span></span> admits the specification
    <span class="inlinecode"><span class="id" title="var">triple</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span>. There are two requirements: First, the precondition <span class="inlinecode"><span class="id" title="var">H</span></span>
    must decompose into <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span>, which denotes the precondition expected by the
    specification, and the remaining part, called <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span>. Second, the targeted
    postcondition <span class="inlinecode"><span class="id" title="var">Q</span></span> must be a consequence of the conjunction of <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span>, which
    denotes the postcondition asserted by the specification, and <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span>, which
    denotes the remaining part that has not been affected during the evaluation
    of the term <span class="inlinecode"><span class="id" title="var">t</span></span>. The formal statement is as follows.
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">triple_conseq_frame</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">H<sub>2</sub></span> <span class="id" title="var">H<sub>1</sub></span> <span class="id" title="var">Q<sub>1</sub></span> <span class="id" title="var">t</span> <span class="id" title="var">H</span> <span class="id" title="var">Q</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">triple</span> <span class="id" title="var">t</span> <span class="id" title="var">H<sub>1</sub></span> <span class="id" title="var">Q<sub>1</sub></span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">H</span> ==&gt; (<span class="id" title="var">H<sub>1</sub></span> <span class='gray-font'>\</span>* <span class="id" title="var">H<sub>2</sub></span>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Q<sub>1</sub></span> <span class='gray-font'>\</span>*+ <span class="id" title="var">H<sub>2</sub></span>) ===&gt; <span class="id" title="var">Q</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">triple</span> <span class="id" title="var">t</span> <span class="id" title="var">H</span> <span class="id" title="var">Q</span>.
</span>    This chapter presents:

<div class="paragraph"> </div>

<ul class="doclist">
<li> the formal definition of the entailment relations, for heap predicates
      and for postconditions,

</li>
<li> the lemmas capturing the interaction of entailment with the star operator,

</li>
<li> the tactics <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> and <span class="inlinecode"><span class="id" title="var">xchange</span></span> that are critically useful
      for manipulating entailments in practice.

</li>
</ul>

</div>

<div class="doc">
<a id="lab115"></a><h2 class="section">Definition of Entailment</h2>

<div class="paragraph"> </div>

 The "entailment relationship" <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span> asserts that any heap <span class="inlinecode"><span class="id" title="var">h</span></span> that
    satisfies the heap predicate <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> also satisfies the heap predicate <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="himpl" class="idref" href="#himpl"><span class="id" title="definition">himpl</span></a> (<a id="H<sub>1</sub>:1" class="idref" href="#H<sub>1</sub>:1"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:2" class="idref" href="#H<sub>2</sub>:2"><span class="id" title="binder">H<sub>2</sub></span></a>:<a class="idref" href="Hprop.html#hprop"><span class="id" title="definition">hprop</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="h:3" class="idref" href="#h:3"><span class="id" title="binder">h</span></a>:<a class="idref" href="Hprop.html#heap"><span class="id" title="definition">heap</span></a>), <a class="idref" href="Himpl.html#H<sub>1</sub>:1"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Himpl.html#h:3"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:2"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="Himpl.html#h:3"><span class="id" title="variable">h</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="7cf9375cc810cd6cb65186f6ede01686" class="idref" href="#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">&quot;</span></a>H<sub>1</sub> ==&gt; H<sub>2</sub>" := (<a class="idref" href="Himpl.html#himpl"><span class="id" title="definition">himpl</span></a> <span class="id" title="var">H<sub>1</sub></span> <span class="id" title="var">H<sub>2</sub></span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 55).<br/>
</div>

<div class="doc">
As we show next, the entailment relation is reflexive, transitive, and
    antisymmetric. It thus forms an order relation on heap predicates. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="himpl_refl" class="idref" href="#himpl_refl"><span class="id" title="lemma">himpl_refl</span></a> : <span class="id" title="keyword">∀</span> <a id="H:4" class="idref" href="#H:4"><span class="id" title="binder">H</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H:4"><span class="id" title="variable">H</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H:4"><span class="id" title="variable">H</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">hnf</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="himpl_trans" class="idref" href="#himpl_trans"><span class="id" title="lemma">himpl_trans</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>2</sub>:5" class="idref" href="#H<sub>2</sub>:5"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>1</sub>:6" class="idref" href="#H<sub>1</sub>:6"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>3</sub>:7" class="idref" href="#H<sub>3</sub>:7"><span class="id" title="binder">H<sub>3</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>:6"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:5"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>2</sub>:5"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:7"><span class="id" title="variable">H<sub>3</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>:6"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:7"><span class="id" title="variable">H<sub>3</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">introv</span> <span class="id" title="var">M<sub>1</sub></span> <span class="id" title="var">M<sub>2</sub></span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">H1h</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab116"></a><h4 class="section">Exercise: 1 star, standard, especially useful (himpl_antisym)</h4>
 Prove the antisymmetry of entailment result shown below. Hint: use
    <span class="inlinecode"><span class="id" title="var">predicate_extensionality</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="himpl_antisym" class="idref" href="#himpl_antisym"><span class="id" title="lemma">himpl_antisym</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:8" class="idref" href="#H<sub>1</sub>:8"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:9" class="idref" href="#H<sub>2</sub>:9"><span class="id" title="binder">H<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>:8"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:9"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>2</sub>:9"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>1</sub>:8"><span class="id" title="variable">H<sub>1</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:8"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:9"><span class="id" title="variable">H<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>


<div class="doc">
<a id="lab117"></a><h2 class="section">Entailment for Postconditions</h2>

<div class="paragraph"> </div>

 The entailment relation can be used to capture that a precondition "entails"
    another one. We need a similar judgment to assert that a postcondition
    "entails" another one. For that purpose, we introduce the relation
    <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span> <span class="inlinecode">===&gt;</span> <span class="inlinecode"><span class="id" title="var">Q<sub>2</sub></span></span>, which asserts that for any value <span class="inlinecode"><span class="id" title="var">v</span></span>, the heap predicate
    <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> entails <span class="inlinecode"><span class="id" title="var">Q<sub>2</sub></span></span> <span class="inlinecode"><span class="id" title="var">v</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="qimpl" class="idref" href="#qimpl"><span class="id" title="definition">qimpl</span></a> (<a id="Q<sub>1</sub>:10" class="idref" href="#Q<sub>1</sub>:10"><span class="id" title="binder">Q<sub>1</sub></span></a> <a id="Q<sub>2</sub>:11" class="idref" href="#Q<sub>2</sub>:11"><span class="id" title="binder">Q<sub>2</sub></span></a>:<a class="idref" href="LibSepReference.html#val"><span class="id" title="inductive">val</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="Hprop.html#hprop"><span class="id" title="definition">hprop</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="v:12" class="idref" href="#v:12"><span class="id" title="binder">v</span></a>:<a class="idref" href="LibSepReference.html#val"><span class="id" title="inductive">val</span></a>), <a class="idref" href="Himpl.html#Q<sub>1</sub>:10"><span class="id" title="variable">Q<sub>1</sub></span></a> <a class="idref" href="Himpl.html#v:12"><span class="id" title="variable">v</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#Q<sub>2</sub>:11"><span class="id" title="variable">Q<sub>2</sub></span></a> <a class="idref" href="Himpl.html#v:12"><span class="id" title="variable">v</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="28f43c6c1c00c11599fc86b7e27012f<sub>9</sub>" class="idref" href="#28f43c6c1c00c11599fc86b7e27012f<sub>9</sub>"><span class="id" title="notation">&quot;</span></a>Q<sub>1</sub> ===&gt; Q<sub>2</sub>" := (<a class="idref" href="Himpl.html#qimpl"><span class="id" title="definition">qimpl</span></a> <span class="id" title="var">Q<sub>1</sub></span> <span class="id" title="var">Q<sub>2</sub></span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 55).<br/>
</div>

<div class="doc">
In other words, <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span> <span class="inlinecode">===&gt;</span> <span class="inlinecode"><span class="id" title="var">Q<sub>2</sub></span></span> holds if and only if, for any value <span class="inlinecode"><span class="id" title="var">v</span></span> and any
    heap <span class="inlinecode"><span class="id" title="var">h</span></span>, the proposition <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode"><span class="id" title="var">h</span></span> implies <span class="inlinecode"><span class="id" title="var">Q<sub>2</sub></span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode"><span class="id" title="var">h</span></span>. 
<div class="paragraph"> </div>

 Entailment on postconditions also forms an order relation: it is reflexive,
    transitive, and antisymmetric. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="qimpl_refl" class="idref" href="#qimpl_refl"><span class="id" title="lemma">qimpl_refl</span></a> : <span class="id" title="keyword">∀</span> <a id="Q:13" class="idref" href="#Q:13"><span class="id" title="binder">Q</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#Q:13"><span class="id" title="variable">Q</span></a> <a class="idref" href="Himpl.html#28f43c6c1c00c11599fc86b7e27012f<sub>9</sub>"><span class="id" title="notation">===&gt;</span></a> <a class="idref" href="Himpl.html#Q:13"><span class="id" title="variable">Q</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Q</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Himpl.html#himpl_refl"><span class="id" title="lemma">himpl_refl</span></a>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="qimpl_trans" class="idref" href="#qimpl_trans"><span class="id" title="lemma">qimpl_trans</span></a> : <span class="id" title="keyword">∀</span> <a id="Q<sub>2</sub>:14" class="idref" href="#Q<sub>2</sub>:14"><span class="id" title="binder">Q<sub>2</sub></span></a> <a id="Q<sub>1</sub>:15" class="idref" href="#Q<sub>1</sub>:15"><span class="id" title="binder">Q<sub>1</sub></span></a> <a id="Q<sub>3</sub>:16" class="idref" href="#Q<sub>3</sub>:16"><span class="id" title="binder">Q<sub>3</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#Q<sub>1</sub>:15"><span class="id" title="variable">Q<sub>1</sub></span></a> <a class="idref" href="Himpl.html#28f43c6c1c00c11599fc86b7e27012f<sub>9</sub>"><span class="id" title="notation">===&gt;</span></a> <a class="idref" href="Himpl.html#Q<sub>2</sub>:14"><span class="id" title="variable">Q<sub>2</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#Q<sub>2</sub>:14"><span class="id" title="variable">Q<sub>2</sub></span></a> <a class="idref" href="Himpl.html#28f43c6c1c00c11599fc86b7e27012f<sub>9</sub>"><span class="id" title="notation">===&gt;</span></a> <a class="idref" href="Himpl.html#Q<sub>3</sub>:16"><span class="id" title="variable">Q<sub>3</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#Q<sub>1</sub>:15"><span class="id" title="variable">Q<sub>1</sub></span></a> <a class="idref" href="Himpl.html#28f43c6c1c00c11599fc86b7e27012f<sub>9</sub>"><span class="id" title="notation">===&gt;</span></a> <a class="idref" href="Himpl.html#Q<sub>3</sub>:16"><span class="id" title="variable">Q<sub>3</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">introv</span> <span class="id" title="var">M<sub>1</sub></span> <span class="id" title="var">M<sub>2</sub></span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Himpl.html#himpl_trans"><span class="id" title="lemma">himpl_trans</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab118"></a><h4 class="section">Exercise: 1 star, standard, especially useful (qimpl_antisym)</h4>
 Prove the antisymmetry of entailment on postconditions. Hint: exploit
    <span class="inlinecode"><span class="id" title="var">functional_extensionality</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="qimpl_antisym" class="idref" href="#qimpl_antisym"><span class="id" title="lemma">qimpl_antisym</span></a> : <span class="id" title="keyword">∀</span> <a id="Q<sub>1</sub>:17" class="idref" href="#Q<sub>1</sub>:17"><span class="id" title="binder">Q<sub>1</sub></span></a> <a id="Q<sub>2</sub>:18" class="idref" href="#Q<sub>2</sub>:18"><span class="id" title="binder">Q<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#Q<sub>1</sub>:17"><span class="id" title="variable">Q<sub>1</sub></span></a> <a class="idref" href="Himpl.html#28f43c6c1c00c11599fc86b7e27012f<sub>9</sub>"><span class="id" title="notation">===&gt;</span></a> <a class="idref" href="Himpl.html#Q<sub>2</sub>:18"><span class="id" title="variable">Q<sub>2</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#Q<sub>2</sub>:18"><span class="id" title="variable">Q<sub>2</sub></span></a> <a class="idref" href="Himpl.html#28f43c6c1c00c11599fc86b7e27012f<sub>9</sub>"><span class="id" title="notation">===&gt;</span></a> <a class="idref" href="Himpl.html#Q<sub>1</sub>:17"><span class="id" title="variable">Q<sub>1</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#Q<sub>1</sub>:17"><span class="id" title="variable">Q<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Himpl.html#Q<sub>2</sub>:18"><span class="id" title="variable">Q<sub>2</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>


<div class="doc">
<a id="lab119"></a><h2 class="section">Frame Rule for Entailment</h2>

<div class="paragraph"> </div>

 A fundamental property is that the star operator is "monotone" with respect
    to entailment, meaning that if <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H<sub>1</sub>'</span></span> then
    <span class="inlinecode">(<span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span>)</span> <span class="inlinecode">==&gt;</span> <span class="inlinecode">(<span class="id" title="var">H<sub>1</sub>'</span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span>)</span>. In other words, an arbitrary heap predicate
    <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span> can be "framed" on both sides of an entailment.

<div class="paragraph"> </div>

    Viewed the other way around, if we have to prove the entailment relation
    <span class="inlinecode">(<span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span>)</span> <span class="inlinecode">==&gt;</span> <span class="inlinecode">(<span class="id" title="var">H<sub>1</sub>'</span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span>)</span>, we can "cancel out" <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span> on both sides. In
    this view, the monotonicity property is a sort of "frame rule for the
    entailment relation".

<div class="paragraph"> </div>

    Due to commutativity of star, it suffices to state the left version of the
    monotonicity property. 
</div>
<div class="code">

<span class="id" title="keyword">Parameter</span> <a id="himpl_frame_l" class="idref" href="#himpl_frame_l"><span class="id" title="axiom">himpl_frame_l</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>2</sub>:19" class="idref" href="#H<sub>2</sub>:19"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>1</sub>:20" class="idref" href="#H<sub>1</sub>:20"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>1</sub>':21" class="idref" href="#H<sub>1</sub>':21"><span class="id" title="binder">H<sub>1</sub>'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:20"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>1</sub>':21"><span class="id" title="variable">H<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>:20"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:19"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>':21"><span class="id" title="variable">H<sub>1</sub>'</span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:19"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a>.<br/>
</div>

<div class="doc">
<a id="lab120"></a><h2 class="section">Introduction and Elimination Rules w.r.t. Entailments</h2>

<div class="paragraph"> </div>

 The rules for introducing and eliminating pure facts and existential
    quantifiers in entailments are essential. They are presented next. 
<div class="paragraph"> </div>

 The first rule is captured by the lemma <span class="inlinecode"><span class="id" title="var">himpl_hstar_hpure_r</span></span>. Consider an
    entailment of the form <span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode">(<span class='gray-font'>\</span>[<span class="id" title="var">P</span>]</span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H'</span>)</span>. To establish this entailment,
    one must prove that <span class="inlinecode"><span class="id" title="var">P</span></span> is true, and that <span class="inlinecode"><span class="id" title="var">H</span></span> entails <span class="inlinecode"><span class="id" title="var">H'</span></span>. 
<div class="paragraph"> </div>

<a id="lab121"></a><h4 class="section">Exercise: 2 stars, standard, especially useful (himpl_hstar_hpure_r).</h4>
 Prove the rule <span class="inlinecode"><span class="id" title="var">himpl_hstar_hpure_r</span></span>. Hint: recall from <span class="inlinecode"><span class="id" title="var">Hprop</span></span> the lemma
    <span class="inlinecode"><span class="id" title="var">hstar_hpure_l</span></span>, which asserts the equality <span class="inlinecode">(<span class='gray-font'>\</span>[<span class="id" title="var">P</span>]</span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H</span>)</span> <span class="inlinecode"><span class="id" title="var">h</span></span> <span class="inlinecode">=</span> <span class="inlinecode">(<span class="id" title="var">P</span></span> <span class="inlinecode">∧</span> <span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode"><span class="id" title="var">h</span>)</span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="himpl_hstar_hpure_r" class="idref" href="#himpl_hstar_hpure_r"><span class="id" title="lemma">himpl_hstar_hpure_r</span></a> : <span class="id" title="keyword">∀</span> <a id="P:23" class="idref" href="#P:23"><span class="id" title="binder">P</span></a> <a id="H:24" class="idref" href="#H:24"><span class="id" title="binder">H</span></a> <a id="H':25" class="idref" href="#H':25"><span class="id" title="binder">H'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#P:23"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H:24"><span class="id" title="variable">H</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H':25"><span class="id" title="variable">H'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H:24"><span class="id" title="variable">H</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Hprop.html#53316c5a9a53e765aefbae8243c4b1dc"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#P:23"><span class="id" title="variable">P</span></a><a class="idref" href="Hprop.html#53316c5a9a53e765aefbae8243c4b1dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H':25"><span class="id" title="variable">H'</span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

 Reciprocally, consider an entailment of the form <span class="inlinecode">(<span class='gray-font'>\</span>[<span class="id" title="var">P</span>]</span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H</span>)</span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H'</span></span>. To
    establish this entailment, one must prove that <span class="inlinecode"><span class="id" title="var">H</span></span> entails <span class="inlinecode"><span class="id" title="var">H'</span></span> under the
    assumption that <span class="inlinecode"><span class="id" title="var">P</span></span> is true. The "extraction rule for pure facts in the left
    of an entailment" captures the property that the pure fact <span class="inlinecode"><span class='gray-font'>\</span>[<span class="id" title="var">P</span>]</span> can be
    extracted into the Coq context. It is stated as follows. 
<div class="paragraph"> </div>

<a id="lab122"></a><h4 class="section">Exercise: 2 stars, standard, especially useful (himpl_hstar_hpure_l).</h4>
 Prove the rule <span class="inlinecode"><span class="id" title="var">himpl_hstar_hpure_l</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="himpl_hstar_hpure_l" class="idref" href="#himpl_hstar_hpure_l"><span class="id" title="lemma">himpl_hstar_hpure_l</span></a> : <span class="id" title="keyword">∀</span> (<a id="P:26" class="idref" href="#P:26"><span class="id" title="binder">P</span></a>:<span class="id" title="keyword">Prop</span>) (<a id="H:27" class="idref" href="#H:27"><span class="id" title="binder">H</span></a> <a id="H':28" class="idref" href="#H':28"><span class="id" title="binder">H'</span></a>:<a class="idref" href="Hprop.html#hprop"><span class="id" title="definition">hprop</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#P:26"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Himpl.html#H:27"><span class="id" title="variable">H</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H':28"><span class="id" title="variable">H'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Hprop.html#53316c5a9a53e765aefbae8243c4b1dc"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#P:26"><span class="id" title="variable">P</span></a><a class="idref" href="Hprop.html#53316c5a9a53e765aefbae8243c4b1dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H:27"><span class="id" title="variable">H</span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H':28"><span class="id" title="variable">H'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

 Consider an entailment of the form <span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode">(<span class='gray-font'>\</span><span class="id" title="tactic">∃</span></span> <span class="inlinecode"><span class="id" title="var">x</span>,</span> <span class="inlinecode"><span class="id" title="var">J</span></span> <span class="inlinecode"><span class="id" title="var">x</span>)</span>, where <span class="inlinecode"><span class="id" title="var">x</span></span> has
    some type <span class="inlinecode"><span class="id" title="var">A</span></span> and <span class="inlinecode"><span class="id" title="var">J</span></span> has type <span class="inlinecode"><span class="id" title="var">A</span>→<span class="id" title="var">hprop</span></span>. To establish this entailment, one
    must exhibit a value for <span class="inlinecode"><span class="id" title="var">x</span></span> for which <span class="inlinecode"><span class="id" title="var">H</span></span> entails <span class="inlinecode"><span class="id" title="var">J</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span>. 
<div class="paragraph"> </div>

<a id="lab123"></a><h4 class="section">Exercise: 2 stars, standard, especially useful (himpl_hexists_r).</h4>
 Prove the rule <span class="inlinecode"><span class="id" title="var">himpl_hexists_r</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="himpl_hexists_r" class="idref" href="#himpl_hexists_r"><span class="id" title="lemma">himpl_hexists_r</span></a> : <span class="id" title="keyword">∀</span> <a id="A:29" class="idref" href="#A:29"><span class="id" title="binder">A</span></a> (<a id="x:30" class="idref" href="#x:30"><span class="id" title="binder">x</span></a>:<a class="idref" href="Himpl.html#A:29"><span class="id" title="variable">A</span></a>) <a id="H:31" class="idref" href="#H:31"><span class="id" title="binder">H</span></a> <a id="J:32" class="idref" href="#J:32"><span class="id" title="binder">J</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H:31"><span class="id" title="variable">H</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#J:32"><span class="id" title="variable">J</span></a> <a class="idref" href="Himpl.html#x:30"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H:31"><span class="id" title="variable">H</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Hprop.html#427157b8047cdf158af6c4e7232eb7ce"><span class="id" title="notation">\</span></a><a class="idref" href="Hprop.html#427157b8047cdf158af6c4e7232eb7ce"><span class="id" title="notation">∃</span></a> <a id="x:33" class="idref" href="#x:33"><span class="id" title="binder">x</span></a><a class="idref" href="Hprop.html#427157b8047cdf158af6c4e7232eb7ce"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#J:32"><span class="id" title="variable">J</span></a> <a class="idref" href="Himpl.html#x:33"><span class="id" title="variable">x</span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

 Reciprocally, consider an entailment <span class="inlinecode">(<span class='gray-font'>\</span><span class="id" title="tactic">∃</span></span> <span class="inlinecode"><span class="id" title="var">x</span>,</span> <span class="inlinecode">(<span class="id" title="var">J</span></span> <span class="inlinecode"><span class="id" title="var">x</span>))</span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H</span></span>. To
    establish this entailment, one has to prove that, whatever the value of <span class="inlinecode"><span class="id" title="var">x</span></span>,
    the predicate <span class="inlinecode"><span class="id" title="var">J</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> entails <span class="inlinecode"><span class="id" title="var">H</span></span>. Indeed the former proposition asserts that
    if a heap <span class="inlinecode"><span class="id" title="var">h</span></span> satisfies <span class="inlinecode"><span class="id" title="var">J</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> for some <span class="inlinecode"><span class="id" title="var">x</span></span>, then <span class="inlinecode"><span class="id" title="var">h</span></span> satisfies <span class="inlinecode"><span class="id" title="var">H'</span></span>, while
    the latter asserts that if, for some <span class="inlinecode"><span class="id" title="var">x</span></span>, the predicate <span class="inlinecode"><span class="id" title="var">h</span></span> satisfies <span class="inlinecode"><span class="id" title="var">J</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span>,
    then <span class="inlinecode"><span class="id" title="var">h</span></span> satisfies <span class="inlinecode"><span class="id" title="var">H'</span></span>.

<div class="paragraph"> </div>

    The "extraction rule for existentials in the left of an entailment" captures
    the property that existentials can be extracted into the Coq context. It is
    stated as follows. Observe how the existential quantifier on the left of the
    entailment becomes an universal quantifier outside of the arrow. 
<div class="paragraph"> </div>

<a id="lab124"></a><h4 class="section">Exercise: 2 stars, standard, especially useful (himpl_hexists_l).</h4>
 Prove the rule <span class="inlinecode"><span class="id" title="var">himpl_hexists_l</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="himpl_hexists_l" class="idref" href="#himpl_hexists_l"><span class="id" title="lemma">himpl_hexists_l</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:34" class="idref" href="#A:34"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>) (<a id="H:35" class="idref" href="#H:35"><span class="id" title="binder">H</span></a>:<a class="idref" href="Hprop.html#hprop"><span class="id" title="definition">hprop</span></a>) (<a id="J:36" class="idref" href="#J:36"><span class="id" title="binder">J</span></a>:<a class="idref" href="Himpl.html#A:34"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="Hprop.html#hprop"><span class="id" title="definition">hprop</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:37" class="idref" href="#x:37"><span class="id" title="binder">x</span></a>, <a class="idref" href="Himpl.html#J:36"><span class="id" title="variable">J</span></a> <a class="idref" href="Himpl.html#x:37"><span class="id" title="variable">x</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H:35"><span class="id" title="variable">H</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Hprop.html#427157b8047cdf158af6c4e7232eb7ce"><span class="id" title="notation">\</span></a><a class="idref" href="Hprop.html#427157b8047cdf158af6c4e7232eb7ce"><span class="id" title="notation">∃</span></a> <a id="x:38" class="idref" href="#x:38"><span class="id" title="binder">x</span></a><a class="idref" href="Hprop.html#427157b8047cdf158af6c4e7232eb7ce"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#J:36"><span class="id" title="variable">J</span></a> <a class="idref" href="Himpl.html#x:38"><span class="id" title="variable">x</span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H:35"><span class="id" title="variable">H</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>


<div class="doc">
<a id="lab125"></a><h2 class="section">Extracting Information from Heap Predicates</h2>

<div class="paragraph"> </div>

 We next present an example showing how entailments can be used to state
    lemmas allowing to extract information from particular heap predicates.
    Concretely, we show that from a heap predicate of the form
    <span class="inlinecode">(<span class="id" title="var">p</span></span> <span class="inlinecode">~~&gt;</span> <span class="inlinecode"><span class="id" title="var">v<sub>1</sub></span>)</span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode">(<span class="id" title="var">p</span></span> <span class="inlinecode">~~&gt;</span> <span class="inlinecode"><span class="id" title="var">v<sub>2</sub></span>)</span> describes two "disjoint" cells that are both "at
    location <span class="inlinecode"><span class="id" title="var">p</span></span>", one can extract a contradiction. Indeed, such a state cannot
    exist. The underlying contraction is formally captured by the following
    entailment relation, which concludes <span class="inlinecode"><span class="id" title="var">False</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="hstar_hsingle_same_loc" class="idref" href="#hstar_hsingle_same_loc"><span class="id" title="lemma">hstar_hsingle_same_loc</span></a> : <span class="id" title="keyword">∀</span> (<a id="p:39" class="idref" href="#p:39"><span class="id" title="binder">p</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>) (<a id="v<sub>1</sub>:40" class="idref" href="#v<sub>1</sub>:40"><span class="id" title="binder">v<sub>1</sub></span></a> <a id="v<sub>2</sub>:41" class="idref" href="#v<sub>2</sub>:41"><span class="id" title="binder">v<sub>2</sub></span></a>:<a class="idref" href="LibSepReference.html#val"><span class="id" title="inductive">val</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:39"><span class="id" title="variable">p</span></a> <a class="idref" href="Hprop.html#7322bfa5d36ce5cf12f68db819774432"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#v<sub>1</sub>:40"><span class="id" title="variable">v<sub>1</sub></span></a><a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:39"><span class="id" title="variable">p</span></a> <a class="idref" href="Hprop.html#7322bfa5d36ce5cf12f68db819774432"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#v<sub>2</sub>:41"><span class="id" title="variable">v<sub>2</sub></span></a><a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Hprop.html#53316c5a9a53e765aefbae8243c4b1dc"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="Hprop.html#53316c5a9a53e765aefbae8243c4b1dc"><span class="id" title="notation">]</span></a>.<br/>
</div>

<div class="doc">
The proof of this result exploits a result on finite maps. Essentially, the
    domain of a single singleton map that binds a location <span class="inlinecode"><span class="id" title="var">p</span></span> to some value is
    the singleton set <span class="inlinecode">\{<span class="id" title="var">p</span>}</span>, thus such a singleton map cannot be disjoint from
    another singleton map that binds the same location <span class="inlinecode"><span class="id" title="var">p</span></span>.
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Check</span> <span class="id" title="var">disjoint_single_single_same_inv</span> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">p</span>:<span class="id" title="var">loc</span>) (<span class="id" title="var">v<sub>1</sub></span> <span class="id" title="var">v<sub>2</sub></span>:<span class="id" title="var">val</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Fmap.disjoint</span> (<span class="id" title="var">Fmap.single</span> <span class="id" title="var">p</span> <span class="id" title="var">v<sub>1</sub></span>) (<span class="id" title="var">Fmap.single</span> <span class="id" title="var">p</span> <span class="id" title="var">v<sub>2</sub></span>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">False</span>.
</span>
<div class="paragraph"> </div>

 Using this lemma, we can prove <span class="inlinecode"><span class="id" title="var">hstar_hsingle_same_loc</span></span> by unfolding the
    definition of <span class="inlinecode"><span class="id" title="var">hstar</span></span> to reveal the contradiction on the disjointness
    assumption. 
</div>
<div class="code">

<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Hprop.html#hsingle"><span class="id" title="definition">hsingle</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> (<span class="id" title="var">h<sub>1</sub></span>&amp;<span class="id" title="var">h<sub>2</sub></span>&amp;<span class="id" title="var">E<sub>1</sub></span>&amp;<span class="id" title="var">E<sub>2</sub></span>&amp;<span class="id" title="var">D</span>&amp;<span class="id" title="var">E</span>). <span class="id" title="var">false</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="LibSepReference.html#Fmap.disjoint_single_single_same_inv"><span class="id" title="lemma">Fmap.disjoint_single_single_same_inv</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">D</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
More generally, a heap predicate of the form <span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H</span></span> is generally
    suspicious in Separation Logic. In the simple variant of Separation Logic
    that we consider in this course, there are only 3 typical situations where
    <span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H</span></span> makes sense: (1) if <span class="inlinecode"><span class="id" title="var">H</span></span> is the empty heap predicate <span class="inlinecode"><span class='gray-font'>\</span>[]</span>, (2) If
    <span class="inlinecode"><span class="id" title="var">H</span></span> is a pure heap predicate of the form <span class="inlinecode">\<span class="id" title="var">P</span></span>], (3) if <span class="inlinecode"><span class="id" title="var">H</span></span> of the form <span class="inlinecode"></span>
    <span class="inlinecode"><span class='gray-font'>\</span><span class="id" title="tactic">∃</span></span> <span class="inlinecode"><span class="id" title="var">H<sub>0</sub></span>,</span> <span class="inlinecode"><span class="id" title="var">H<sub>0</sub></span></span>, which will be written <span class="inlinecode">\<span class="id" title="var">GC</span></span> in chapter <a href="Affine.html"><span class="inlineref">Affine</span></a>. 
</div>

<div class="doc">
<a id="lab126"></a><h3 class="section">Rules for Naming Heaps</h3>

<div class="paragraph"> </div>

 Thereafter, we write <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">h</span></span> as a shorthand for <span class="inlinecode"><span class="id" title="keyword">fun</span></span> <span class="inlinecode"><span class="id" title="var">h'</span></span> <span class="inlinecode">⇒</span> <span class="inlinecode"><span class="id" title="var">h'</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">h</span></span>, that is,
    the heap predicate that only accepts heaps exactly equal to <span class="inlinecode"><span class="id" title="var">h</span></span>. 
<div class="paragraph"> </div>

<a id="lab127"></a><h4 class="section">Exercise: 3 stars, standard, optional (hexists_named_eq)</h4>
 Prove that a heap predicate <span class="inlinecode"><span class="id" title="var">H</span></span> is equivalent to
    <span class="inlinecode"><span class='gray-font'>\</span><span class="id" title="tactic">∃</span></span> <span class="inlinecode"><span class="id" title="var">h</span>,</span> <span class="inlinecode"><span class='gray-font'>\</span>[<span class="id" title="var">H</span></span> <span class="inlinecode"><span class="id" title="var">h</span>]</span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode">(=</span> <span class="inlinecode"><span class="id" title="var">h</span>))</span>. Hint: use <span class="inlinecode"><span class="id" title="var">hstar_hpure_l</span></span> and <span class="inlinecode"><span class="id" title="var">hexists_intro</span></span>
    , as well as the extraction rules <span class="inlinecode"><span class="id" title="var">himpl_hexists_l</span></span> and
    <span class="inlinecode"><span class="id" title="var">himpl_hstar_hpure_l</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="hexists_named_eq" class="idref" href="#hexists_named_eq"><span class="id" title="lemma">hexists_named_eq</span></a> : <span class="id" title="keyword">∀</span> <a id="H:42" class="idref" href="#H:42"><span class="id" title="binder">H</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H:42"><span class="id" title="variable">H</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Hprop.html#427157b8047cdf158af6c4e7232eb7ce"><span class="id" title="notation">\</span></a><a class="idref" href="Hprop.html#427157b8047cdf158af6c4e7232eb7ce"><span class="id" title="notation">∃</span></a> <a id="h:43" class="idref" href="#h:43"><span class="id" title="binder">h</span></a><a class="idref" href="Hprop.html#427157b8047cdf158af6c4e7232eb7ce"><span class="id" title="notation">,</span></a> <a class="idref" href="Hprop.html#53316c5a9a53e765aefbae8243c4b1dc"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#H:42"><span class="id" title="variable">H</span></a> <a class="idref" href="Himpl.html#h:43"><span class="id" title="variable">h</span></a><a class="idref" href="Hprop.html#53316c5a9a53e765aefbae8243c4b1dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation">(</span></a><span class="id" title="notation">=</span> <a class="idref" href="Himpl.html#h:43"><span class="id" title="variable">h</span></a><a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>


<div class="doc">
<a id="lab128"></a><h2 class="section">Identifying True and False Entailments</h2>

<div class="paragraph"> </div>

 In the rest of this file, we load the definition from <span class="inlinecode"><span class="id" title="var">LibSepReference</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Module</span> <a id="XsimplTactic" class="idref" href="#XsimplTactic"><span class="id" title="module">XsimplTactic</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="LibSepReference.html#"><span class="id" title="module">LibSepReference</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="XsimplTactic.:::'hprop'''" class="idref" href="#XsimplTactic.:::'hprop'''"><span class="id" title="notation">&quot;</span></a>'hprop''" := (<a class="idref" href="Hprop.html#hprop"><span class="id" title="definition">Hprop.hprop</span></a>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Module</span> <a id="XsimplTactic.CaseStudy" class="idref" href="#XsimplTactic.CaseStudy"><span class="id" title="module">CaseStudy</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> : <a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="notation">int</span>.<br/>
</div>

<div class="doc">
Quiz: For each entailment relation, indicate (without a Coq proof) whether
    it is true or false. Solutions appear further on. 
</div>
<div class="code">

<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.CaseStudy.case_study_1" class="idref" href="#XsimplTactic.CaseStudy.case_study_1"><span class="id" title="axiom">case_study_1</span></a> : <span class="id" title="keyword">∀</span> <a id="p:44" class="idref" href="#p:44"><span class="id" title="binder">p</span></a> <a id="q:45" class="idref" href="#q:45"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:44"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:45"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#q:45"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:44"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.CaseStudy.case_study_2" class="idref" href="#XsimplTactic.CaseStudy.case_study_2"><span class="id" title="axiom">case_study_2</span></a> : <span class="id" title="keyword">∀</span> <a id="p:47" class="idref" href="#p:47"><span class="id" title="binder">p</span></a> <a id="q:48" class="idref" href="#q:48"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:47"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#q:48"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:47"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.CaseStudy.case_study_3" class="idref" href="#XsimplTactic.CaseStudy.case_study_3"><span class="id" title="axiom">case_study_3</span></a> : <span class="id" title="keyword">∀</span> <a id="p:50" class="idref" href="#p:50"><span class="id" title="binder">p</span></a> <a id="q:51" class="idref" href="#q:51"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#q:51"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:50"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#p:50"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.CaseStudy.case_study_4" class="idref" href="#XsimplTactic.CaseStudy.case_study_4"><span class="id" title="axiom">case_study_4</span></a> : <span class="id" title="keyword">∀</span> <a id="p:53" class="idref" href="#p:53"><span class="id" title="binder">p</span></a> <a id="q:54" class="idref" href="#q:54"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#q:54"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:53"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#p:53"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.CaseStudy.case_study_5" class="idref" href="#XsimplTactic.CaseStudy.case_study_5"><span class="id" title="axiom">case_study_5</span></a> : <span class="id" title="keyword">∀</span> <a id="p:56" class="idref" href="#p:56"><span class="id" title="binder">p</span></a> <a id="q:57" class="idref" href="#q:57"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:56"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#p:56"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:57"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.CaseStudy.case_study_6" class="idref" href="#XsimplTactic.CaseStudy.case_study_6"><span class="id" title="axiom">case_study_6</span></a> : <span class="id" title="keyword">∀</span> <a id="p:59" class="idref" href="#p:59"><span class="id" title="binder">p</span></a> <a id="q:60" class="idref" href="#q:60"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:59"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:60"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.CaseStudy.case_study_7" class="idref" href="#XsimplTactic.CaseStudy.case_study_7"><span class="id" title="axiom">case_study_7</span></a> : <span class="id" title="keyword">∀</span> <a id="p:62" class="idref" href="#p:62"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:62"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:62"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.CaseStudy.case_study_8" class="idref" href="#XsimplTactic.CaseStudy.case_study_8"><span class="id" title="axiom">case_study_8</span></a> : <span class="id" title="keyword">∀</span> <a id="p:64" class="idref" href="#p:64"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:64"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:64"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.CaseStudy.case_study_9" class="idref" href="#XsimplTactic.CaseStudy.case_study_9"><span class="id" title="axiom">case_study_9</span></a> : <span class="id" title="keyword">∀</span> <a id="p:66" class="idref" href="#p:66"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:66"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:67" class="idref" href="#n:67"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#p:66"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:67"><span class="id" title="variable">n</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.CaseStudy.case_study_10" class="idref" href="#XsimplTactic.CaseStudy.case_study_10"><span class="id" title="axiom">case_study_10</span></a> : <span class="id" title="keyword">∀</span> <a id="p:69" class="idref" href="#p:69"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n:70" class="idref" href="#n:70"><span class="id" title="binder">n</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#p:69"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:70"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#p:69"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.CaseStudy.case_study_11" class="idref" href="#XsimplTactic.CaseStudy.case_study_11"><span class="id" title="axiom">case_study_11</span></a> : <span class="id" title="keyword">∀</span> <a id="p:72" class="idref" href="#p:72"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:73" class="idref" href="#n:73"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#p:72"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:73"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:73"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:74" class="idref" href="#n:74"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:74"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 1<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:72"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#n:74"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a>1<a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">)</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.CaseStudy.case_study_12" class="idref" href="#XsimplTactic.CaseStudy.case_study_12"><span class="id" title="axiom">case_study_12</span></a> : <span class="id" title="keyword">∀</span> <a id="p:76" class="idref" href="#p:76"><span class="id" title="binder">p</span></a> <a id="q:77" class="idref" href="#q:77"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:76"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:77"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:78" class="idref" href="#n:78"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#p:76"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:78"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:77"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:78"><span class="id" title="variable">n</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Parameter</span> <a id="XsimplTactic.CaseStudy.case_study_13" class="idref" href="#XsimplTactic.CaseStudy.case_study_13"><span class="id" title="axiom">case_study_13</span></a> : <span class="id" title="keyword">∀</span> <a id="p:80" class="idref" href="#p:80"><span class="id" title="binder">p</span></a> <a id="n:81" class="idref" href="#n:81"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:80"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:81"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:81"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:81"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&lt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#p:80"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:81"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:80"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:81"><span class="id" title="variable">n</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">End</span> <a class="idref" href="Himpl.html#XsimplTactic.CaseStudy"><span class="id" title="module">CaseStudy</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Module</span> <a id="XsimplTactic.CaseStudyAnswers" class="idref" href="#XsimplTactic.CaseStudyAnswers"><span class="id" title="module">CaseStudyAnswers</span></a>.<br/>
</div>

<div class="doc">
The answers to the quiz are as follows.

<div class="paragraph"> </div>

    1. True, by commutativity.

<div class="paragraph"> </div>

    2. False, because one cell does not entail two cells.

<div class="paragraph"> </div>

    3. False, because two cells do not entail one cell.

<div class="paragraph"> </div>

    4. False, because two cells do not entail one cell.

<div class="paragraph"> </div>

    5. True, because \<span class="inlinecode"><span class="id" title="var">False</span></span> entails anything.

<div class="paragraph"> </div>

    6. False, because a satisfiable heap predicate does not entail \<span class="inlinecode"><span class="id" title="var">False</span></span>.

<div class="paragraph"> </div>

    7. True, because a cell cannot be starred with itself.

<div class="paragraph"> </div>

    8. True, because a cell cannot be starred with itself.

<div class="paragraph"> </div>

    9. True, by instantiating <span class="inlinecode"><span class="id" title="var">n</span></span> with <span class="inlinecode">3</span>.

<div class="paragraph"> </div>

    10. False, because <span class="inlinecode"><span class="id" title="var">n</span></span> could be something else than <span class="inlinecode">3</span>.

<div class="paragraph"> </div>

    11. True, by instantiating <span class="inlinecode"><span class="id" title="var">n</span></span> in RHS with <span class="inlinecode"><span class="id" title="var">n</span>+1</span> for the <span class="inlinecode"><span class="id" title="var">n</span></span> of the LHS.

<div class="paragraph"> </div>

    12. True, by instantiating <span class="inlinecode"><span class="id" title="var">n</span></span> with <span class="inlinecode">3</span>.

<div class="paragraph"> </div>

    13. True, because it is equivalent to <span class="inlinecode"><span class='gray-font'>\</span>[<span class="id" title="var">False</span>]</span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class='gray-font'>\</span>[<span class="id" title="var">False</span>]</span>.

<div class="paragraph"> </div>

    Proofs for the true results appear below. 
</div>
<div class="code">

<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> : <a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="notation">int</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.CaseStudyAnswers.case_study_1" class="idref" href="#XsimplTactic.CaseStudyAnswers.case_study_1"><span class="id" title="lemma">case_study_1</span></a> : <span class="id" title="keyword">∀</span> <a id="p:83" class="idref" href="#p:83"><span class="id" title="binder">p</span></a> <a id="q:84" class="idref" href="#q:84"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:83"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:84"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#q:84"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:83"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.CaseStudyAnswers.case_study_5" class="idref" href="#XsimplTactic.CaseStudyAnswers.case_study_5"><span class="id" title="lemma">case_study_5</span></a> : <span class="id" title="keyword">∀</span> <a id="p:85" class="idref" href="#p:85"><span class="id" title="binder">p</span></a> <a id="q:86" class="idref" href="#q:86"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:85"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#p:85"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:86"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.CaseStudyAnswers.case_study_7" class="idref" href="#XsimplTactic.CaseStudyAnswers.case_study_7"><span class="id" title="lemma">case_study_7</span></a> : <span class="id" title="keyword">∀</span> <a id="p:87" class="idref" href="#p:87"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:87"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:87"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 4<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">xchange</span> (<a class="idref" href="LibSepReference.html#SepSimplArgs.hstar_hsingle_same_loc"><span class="id" title="lemma">hstar_hsingle_same_loc</span></a> <span class="id" title="var">p</span>). <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.CaseStudyAnswers.case_study_8" class="idref" href="#XsimplTactic.CaseStudyAnswers.case_study_8"><span class="id" title="lemma">case_study_8</span></a> : <span class="id" title="keyword">∀</span> <a id="p:88" class="idref" href="#p:88"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:88"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:88"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">xchange</span> (<a class="idref" href="LibSepReference.html#SepSimplArgs.hstar_hsingle_same_loc"><span class="id" title="lemma">hstar_hsingle_same_loc</span></a> <span class="id" title="var">p</span>). <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.CaseStudyAnswers.case_study_9" class="idref" href="#XsimplTactic.CaseStudyAnswers.case_study_9"><span class="id" title="lemma">case_study_9</span></a> : <span class="id" title="keyword">∀</span> <a id="p:89" class="idref" href="#p:89"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:89"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:90" class="idref" href="#n:90"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#p:89"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:90"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.CaseStudyAnswers.case_study_11" class="idref" href="#XsimplTactic.CaseStudyAnswers.case_study_11"><span class="id" title="lemma">case_study_11</span></a> : <span class="id" title="keyword">∀</span> <a id="p:91" class="idref" href="#p:91"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:92" class="idref" href="#n:92"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#p:91"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:92"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:92"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:93" class="idref" href="#n:93"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:93"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 1<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:91"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#n:93"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a>1<a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xpull</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">Hn</span>. <span class="id" title="var">xsimpl</span> (<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/library//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a>1).<br/>
&nbsp;&nbsp;<span class="id" title="var">math</span>. <span class="id" title="var">math</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.CaseStudyAnswers.case_study_12" class="idref" href="#XsimplTactic.CaseStudyAnswers.case_study_12"><span class="id" title="lemma">case_study_12</span></a> : <span class="id" title="keyword">∀</span> <a id="p:94" class="idref" href="#p:94"><span class="id" title="binder">p</span></a> <a id="q:95" class="idref" href="#q:95"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:94"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:95"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:96" class="idref" href="#n:96"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#p:94"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:96"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:95"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:96"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.CaseStudyAnswers.case_study_13" class="idref" href="#XsimplTactic.CaseStudyAnswers.case_study_13"><span class="id" title="lemma">case_study_13</span></a> : <span class="id" title="keyword">∀</span> <a id="p:97" class="idref" href="#p:97"><span class="id" title="binder">p</span></a> <a id="n:98" class="idref" href="#n:98"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:97"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:98"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:98"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:98"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&lt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#p:97"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:98"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:97"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:98"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hn<sub>1</sub></span> <span class="id" title="var">Hn<sub>2</sub></span>. <span class="id" title="var">false</span>. <span class="id" title="var">math</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">End</span> <a class="idref" href="Himpl.html#XsimplTactic.CaseStudyAnswers"><span class="id" title="module">CaseStudyAnswers</span></a>.<br/>
</div>

<div class="doc">
<a id="lab129"></a><h1 class="section">More Details</h1>

</div>

<div class="doc">
<a id="lab130"></a><h2 class="section">Proving Entailments by Hand</h2>

</div>
<div class="code">

<span class="id" title="keyword">Module</span> <a id="XsimplTactic.EntailmentProofs" class="idref" href="#XsimplTactic.EntailmentProofs"><span class="id" title="module">EntailmentProofs</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">p</span> : <a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">n</span> : <span class="id" title="notation">int</span>.<br/>
</div>

<div class="doc">
Proving an entailment by hand is generally a tedious task. This is why most
    frameworks based on Separation Logic include an automated tactic for
    simplifying entailments. In this course, the relevant tactic is named
    <span class="inlinecode"><span class="id" title="var">xsimpl</span></span>. Further in this chapter, we describe by means of examples the
    behavior of this tactic. In order to best appreciate what a simplification
    tactic provides and best understand how it works, it is very useful to first
    complete a few proofs by hand. 
<div class="paragraph"> </div>

<a id="lab131"></a><h4 class="section">Exercise: 3 stars, standard, optional (himpl_example_1)</h4>
 Prove the example entailment below. Hint: exploit <span class="inlinecode"><span class="id" title="var">hstar_comm</span></span>,
    <span class="inlinecode"><span class="id" title="var">hstar_assoc</span></span>, or <span class="inlinecode"><span class="id" title="var">hstar_comm_assoc</span></span> which combines the two, and exploit
    <span class="inlinecode"><span class="id" title="var">himpl_frame_l</span></span> or <span class="inlinecode"><span class="id" title="var">himpl_frame_r</span></span> to cancel out matching pieces. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.EntailmentProofs.himpl_example_1" class="idref" href="#XsimplTactic.EntailmentProofs.himpl_example_1"><span class="id" title="lemma">himpl_example_1</span></a> : <span class="id" title="keyword">∀</span> <a id="p<sub>1</sub>:99" class="idref" href="#p<sub>1</sub>:99"><span class="id" title="binder">p<sub>1</sub></span></a> <a id="p<sub>2</sub>:100" class="idref" href="#p<sub>2</sub>:100"><span class="id" title="binder">p<sub>2</sub></span></a> <a id="p<sub>3</sub>:101" class="idref" href="#p<sub>3</sub>:101"><span class="id" title="binder">p<sub>3</sub></span></a> <a id="p<sub>4</sub>:102" class="idref" href="#p<sub>4</sub>:102"><span class="id" title="binder">p<sub>4</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p<sub>1</sub>:99"><span class="id" title="variable">p<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 6 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p<sub>2</sub>:100"><span class="id" title="variable">p<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 7 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p<sub>3</sub>:101"><span class="id" title="variable">p<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 8 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p<sub>4</sub>:102"><span class="id" title="variable">p<sub>4</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 9<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#p<sub>4</sub>:102"><span class="id" title="variable">p<sub>4</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 9 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p<sub>3</sub>:101"><span class="id" title="variable">p<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 8 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p<sub>2</sub>:100"><span class="id" title="variable">p<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 7 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p<sub>1</sub>:99"><span class="id" title="variable">p<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 6.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab132"></a><h4 class="section">Exercise: 3 stars, standard, optional (himpl_example_2)</h4>
 Prove the example entailment below. Hint: use <span class="inlinecode"><span class="id" title="var">himpl_hstar_hpure_l</span></span> to
    extract pure facts, once they appear at the head of the left-hand side of
    the entailment. For arithmetic inequalities, use the <span class="inlinecode"><span class="id" title="var">math</span></span> tactic. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.EntailmentProofs.himpl_example_2" class="idref" href="#XsimplTactic.EntailmentProofs.himpl_example_2"><span class="id" title="lemma">himpl_example_2</span></a> : <span class="id" title="keyword">∀</span> <a id="p<sub>1</sub>:103" class="idref" href="#p<sub>1</sub>:103"><span class="id" title="binder">p<sub>1</sub></span></a> <a id="p<sub>2</sub>:104" class="idref" href="#p<sub>2</sub>:104"><span class="id" title="binder">p<sub>2</sub></span></a> <a id="p<sub>3</sub>:105" class="idref" href="#p<sub>3</sub>:105"><span class="id" title="binder">p<sub>3</sub></span></a> <a id="n:106" class="idref" href="#n:106"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Himpl.html#p<sub>1</sub>:103"><span class="id" title="variable">p<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 6 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:106"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p<sub>2</sub>:104"><span class="id" title="variable">p<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 7 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:106"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&lt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#p<sub>3</sub>:105"><span class="id" title="variable">p<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 8.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab133"></a><h4 class="section">Exercise: 3 stars, standard, optional (himpl_example_3)</h4>
 Prove the example entailment below. Hint: use lemmas among <span class="inlinecode"><span class="id" title="var">himpl_hexists_r</span></span>
    , <span class="inlinecode"><span class="id" title="var">himpl_hexists_l</span></span>, <span class="inlinecode"><span class="id" title="var">himpl_hstar_hpure_r</span></span> and <span class="inlinecode"><span class="id" title="var">himpl_hstar_hpure_r</span></span> to deal
    with pure facts and quantifiers. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.EntailmentProofs.himpl_example_3" class="idref" href="#XsimplTactic.EntailmentProofs.himpl_example_3"><span class="id" title="lemma">himpl_example_3</span></a> : <span class="id" title="keyword">∀</span> <a id="p:107" class="idref" href="#p:107"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:108" class="idref" href="#n:108"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="Himpl.html#p:107"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:108"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:108"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a id="n:109" class="idref" href="#n:109"><span class="id" title="binder">n</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">,</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:109"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 1<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#p:107"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#n:109"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a>1<a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="code">

<span class="id" title="keyword">End</span> <a class="idref" href="Himpl.html#XsimplTactic.EntailmentProofs"><span class="id" title="module">EntailmentProofs</span></a>.<br/>
</div>

<div class="doc">
<a id="lab134"></a><h2 class="section">The <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> Tactic</h2>

<div class="paragraph"> </div>

 Performing manual simplifications of entailments by hand is an extremely
    tedious task. Fortunately, it can be automated using specialized Coq tactic.
    This tactic, called <span class="inlinecode"><span class="id" title="var">xsimpl</span></span>, applies to an entailment and implements a
    3-step process:

<div class="paragraph"> </div>

<ul class="doclist">
<li> extract pure facts and existential quantifiers from the LHS,

</li>
<li> cancel out equal predicates occurring both in the LHS and RHS,

</li>
<li> generate subgoals for the pure facts occurring in the RHS, and instantiate
      the existential quantifiers from the RHS (using either unification variables
      or user-provided hints).

</li>
</ul>

<div class="paragraph"> </div>

    These steps are detailed and illustrated next. 
</div>

<div class="doc">
<a id="lab135"></a><h3 class="section"><span class="inlinecode"><span class="id" title="var">xsimpl</span></span> to Extract Pure Facts and Quantifiers in LHS</h3>

<div class="paragraph"> </div>

 The first feature of <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> is its ability to extract the pure facts and
    the existential quantifiers from the left-hand side out into the Coq
    context.

<div class="paragraph"> </div>

    In the example below, the pure fact <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">&gt;</span> <span class="inlinecode">0</span> appears in the LHS. After
    calling <span class="inlinecode"><span class="id" title="var">xsimpl</span></span>, this pure fact is turned into an hypothesis, which may be
    introduced with a name into the Coq context. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_lhs_hpure" class="idref" href="#XsimplTactic.xsimpl_demo_lhs_hpure"><span class="id" title="lemma">xsimpl_demo_lhs_hpure</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:110" class="idref" href="#H<sub>1</sub>:110"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:111" class="idref" href="#H<sub>2</sub>:111"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:112" class="idref" href="#H<sub>3</sub>:112"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:113" class="idref" href="#H<sub>4</sub>:113"><span class="id" title="binder">H<sub>4</sub></span></a> (<a id="n:114" class="idref" href="#n:114"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:110"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:111"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:114"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:112"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:113"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hn</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
In case the LHS includes a contradiction, such as the pure fact <span class="inlinecode"><span class="id" title="var">False</span></span>, the
    goal gets solved immediately by <span class="inlinecode"><span class="id" title="var">xsimpl</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_lhs_hpure" class="idref" href="#XsimplTactic.xsimpl_demo_lhs_hpure"><span class="id" title="lemma">xsimpl_demo_lhs_hpure</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:115" class="idref" href="#H<sub>1</sub>:115"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:116" class="idref" href="#H<sub>2</sub>:116"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:117" class="idref" href="#H<sub>3</sub>:117"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:118" class="idref" href="#H<sub>4</sub>:118"><span class="id" title="binder">H<sub>4</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:115"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:116"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:117"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:118"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
The <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> tactic also extracts existential quantifier from the LHS. It
    turns them into universally quantified variables outside of the entailment
    relation, as illustrated through the following example. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_lhs_hexists" class="idref" href="#XsimplTactic.xsimpl_demo_lhs_hexists"><span class="id" title="lemma">xsimpl_demo_lhs_hexists</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:119" class="idref" href="#H<sub>1</sub>:119"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:120" class="idref" href="#H<sub>2</sub>:120"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:121" class="idref" href="#H<sub>3</sub>:121"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:122" class="idref" href="#H<sub>4</sub>:122"><span class="id" title="binder">H<sub>4</sub></span></a> (<a id="p:123" class="idref" href="#p:123"><span class="id" title="binder">p</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:119"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:124" class="idref" href="#n:124"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:123"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:124"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:120"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:121"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:122"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
A call to <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> extract at once all the pure facts and quantifiers from
    the LHS, as illustrated next. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_lhs_several" class="idref" href="#XsimplTactic.xsimpl_demo_lhs_several"><span class="id" title="lemma">xsimpl_demo_lhs_several</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:125" class="idref" href="#H<sub>1</sub>:125"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:126" class="idref" href="#H<sub>2</sub>:126"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:127" class="idref" href="#H<sub>3</sub>:127"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:128" class="idref" href="#H<sub>4</sub>:128"><span class="id" title="binder">H<sub>4</sub></span></a> (<a id="p:129" class="idref" href="#p:129"><span class="id" title="binder">p</span></a> <a id="q:130" class="idref" href="#q:130"><span class="id" title="binder">q</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:125"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:131" class="idref" href="#n:131"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:129"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:131"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:131"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:126"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#p:129"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Himpl.html#q:130"><span class="id" title="variable">q</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:127"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:128"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">Hn</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
<a id="lab136"></a><h3 class="section"><span class="inlinecode"><span class="id" title="var">xsimpl</span></span> to Cancel Out Heap Predicates from LHS and RHS</h3>

<div class="paragraph"> </div>

 The second feature of <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> is its ability to cancel out similar heap
    predicates that occur on both sides of an entailment.

<div class="paragraph"> </div>

    In the example below, <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span> occurs on both sides, so it is canceled out by
    <span class="inlinecode"><span class="id" title="var">xsimpl</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_cancel_one" class="idref" href="#XsimplTactic.xsimpl_demo_cancel_one"><span class="id" title="lemma">xsimpl_demo_cancel_one</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:132" class="idref" href="#H<sub>1</sub>:132"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:133" class="idref" href="#H<sub>2</sub>:133"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:134" class="idref" href="#H<sub>3</sub>:134"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:135" class="idref" href="#H<sub>4</sub>:135"><span class="id" title="binder">H<sub>4</sub></span></a> <a id="H<sub>5</sub>:136" class="idref" href="#H<sub>5</sub>:136"><span class="id" title="binder">H<sub>5</sub></span></a> <a id="H<sub>6</sub>:137" class="idref" href="#H<sub>6</sub>:137"><span class="id" title="binder">H<sub>6</sub></span></a> <a id="H<sub>7</sub>:138" class="idref" href="#H<sub>7</sub>:138"><span class="id" title="binder">H<sub>7</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:132"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:133"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:134"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:135"><span class="id" title="variable">H<sub>4</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>5</sub>:136"><span class="id" title="variable">H<sub>5</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>6</sub>:137"><span class="id" title="variable">H<sub>6</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:133"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>7</sub>:138"><span class="id" title="variable">H<sub>7</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">xsimpl</span></span> actually cancels out at once all the heap predicates that it can
    spot appearing on both sides. In the example below, <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span>, <span class="inlinecode"><span class="id" title="var">H<sub>3</sub></span></span>, and <span class="inlinecode"><span class="id" title="var">H<sub>4</sub></span></span> are
    canceled out. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_cancel_many" class="idref" href="#XsimplTactic.xsimpl_demo_cancel_many"><span class="id" title="lemma">xsimpl_demo_cancel_many</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:139" class="idref" href="#H<sub>1</sub>:139"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:140" class="idref" href="#H<sub>2</sub>:140"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:141" class="idref" href="#H<sub>3</sub>:141"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:142" class="idref" href="#H<sub>4</sub>:142"><span class="id" title="binder">H<sub>4</sub></span></a> <a id="H<sub>5</sub>:143" class="idref" href="#H<sub>5</sub>:143"><span class="id" title="binder">H<sub>5</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:139"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:140"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:141"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:142"><span class="id" title="variable">H<sub>4</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:142"><span class="id" title="variable">H<sub>4</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:141"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>5</sub>:143"><span class="id" title="variable">H<sub>5</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:140"><span class="id" title="variable">H<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
If all the pieces of heap predicate get canceled out, the remaining proof
    obligation is <span class="inlinecode"><span class='gray-font'>\</span>[]</span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class='gray-font'>\</span>[]</span>. In this case, <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> automatically solves the
    goal by invoking the reflexivity property of entailment. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_cancel_all" class="idref" href="#XsimplTactic.xsimpl_demo_cancel_all"><span class="id" title="lemma">xsimpl_demo_cancel_all</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:144" class="idref" href="#H<sub>1</sub>:144"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:145" class="idref" href="#H<sub>2</sub>:145"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:146" class="idref" href="#H<sub>3</sub>:146"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:147" class="idref" href="#H<sub>4</sub>:147"><span class="id" title="binder">H<sub>4</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:144"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:145"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:146"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:147"><span class="id" title="variable">H<sub>4</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:147"><span class="id" title="variable">H<sub>4</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:146"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>1</sub>:144"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:145"><span class="id" title="variable">H<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab137"></a><h3 class="section"><span class="inlinecode"><span class="id" title="var">xsimpl</span></span> to Instantiate Pure Facts and Quantifiers in RHS</h3>

<div class="paragraph"> </div>

 The third feature of <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> is its ability to extract pure facts from the
    RHS as separate subgoals, and to instantiate existential quantifiers from
    the RHS. Let us first illustrate how it deals with pure facts. In the
    example below, the fact <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">&gt;</span> <span class="inlinecode">0</span> gets spawned in a separated subgoal. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_rhs_hpure" class="idref" href="#XsimplTactic.xsimpl_demo_rhs_hpure"><span class="id" title="lemma">xsimpl_demo_rhs_hpure</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:148" class="idref" href="#H<sub>1</sub>:148"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:149" class="idref" href="#H<sub>2</sub>:149"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:150" class="idref" href="#H<sub>3</sub>:150"><span class="id" title="binder">H<sub>3</sub></span></a> (<a id="n:151" class="idref" href="#n:151"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:148"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:149"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:151"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:150"><span class="id" title="variable">H<sub>3</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
When it encounters an existential quantifier in the RHS, the <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> tactic
    introduces a unification variable denoted by a question mark, that is, an
    "evar", in Coq terminology. In the example below, the <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> tactic turns
    <span class="inlinecode"><span class='gray-font'>\</span><span class="id" title="tactic">∃</span></span> <span class="inlinecode"><span class="id" title="var">n</span>,</span> <span class="inlinecode">..</span> <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">~~&gt;</span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">..</span> into <span class="inlinecode">..</span> <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">~~&gt;</span> <span class="inlinecode">?<span class="id" title="var">x</span></span> <span class="inlinecode">..</span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_rhs_hexists" class="idref" href="#XsimplTactic.xsimpl_demo_rhs_hexists"><span class="id" title="lemma">xsimpl_demo_rhs_hexists</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:152" class="idref" href="#H<sub>1</sub>:152"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:153" class="idref" href="#H<sub>2</sub>:153"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:154" class="idref" href="#H<sub>3</sub>:154"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:155" class="idref" href="#H<sub>4</sub>:155"><span class="id" title="binder">H<sub>4</sub></span></a> (<a id="p:156" class="idref" href="#p:156"><span class="id" title="binder">p</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:152"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:153"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:157" class="idref" href="#n:157"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:156"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:157"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:154"><span class="id" title="variable">H<sub>3</sub></span></a><a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:155"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
The "evar" often gets subsequently instantiated as a result of a
    cancellation step. For example, in the example below, <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> instantiates
    the existentially quantified variable <span class="inlinecode"><span class="id" title="var">n</span></span> as <span class="inlinecode">?<span class="id" title="var">x</span></span>, then cancels out
    <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">~~&gt;</span> <span class="inlinecode">?<span class="id" title="var">x</span></span> from the LHS against <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">~~&gt;</span> <span class="inlinecode">3</span> on the right-hand-side, thereby
    unifying <span class="inlinecode">?<span class="id" title="var">x</span></span> with <span class="inlinecode">3</span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_rhs_hexists_unify" class="idref" href="#XsimplTactic.xsimpl_demo_rhs_hexists_unify"><span class="id" title="lemma">xsimpl_demo_rhs_hexists_unify</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:158" class="idref" href="#H<sub>1</sub>:158"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:159" class="idref" href="#H<sub>2</sub>:159"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:160" class="idref" href="#H<sub>3</sub>:160"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:161" class="idref" href="#H<sub>4</sub>:161"><span class="id" title="binder">H<sub>4</sub></span></a> (<a id="p:162" class="idref" href="#p:162"><span class="id" title="binder">p</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:158"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:162"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:159"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:163" class="idref" href="#n:163"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:162"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:163"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:160"><span class="id" title="variable">H<sub>3</sub></span></a><a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:161"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
The instantiation of the evar <span class="inlinecode">?<span class="id" title="var">x</span></span> can be observed if there is another
    occurrence of the same variable in the entailment. In the next example,
    which refines the previous one, observe how <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">&gt;</span> <span class="inlinecode">0</span> becomes <span class="inlinecode">3</span> <span class="inlinecode">&gt;</span> <span class="inlinecode">0</span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_rhs_hexists_unify_view" class="idref" href="#XsimplTactic.xsimpl_demo_rhs_hexists_unify_view"><span class="id" title="lemma">xsimpl_demo_rhs_hexists_unify_view</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:164" class="idref" href="#H<sub>1</sub>:164"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:165" class="idref" href="#H<sub>2</sub>:165"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>4</sub>:166" class="idref" href="#H<sub>4</sub>:166"><span class="id" title="binder">H<sub>4</sub></span></a> (<a id="p:167" class="idref" href="#p:167"><span class="id" title="binder">p</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:164"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:167"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3<a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:165"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:168" class="idref" href="#n:168"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:167"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:168"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="Himpl.html#n:168"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a><a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation">)</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:166"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
(Advanced.) In certain situations, it may be desirable to provide an
    explicit value for instantiating an existential quantifier that occurs in
    the RHS. The <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> tactic accepts arguments, which will be used to
    instantiate the existentials (on a first-match basis). The syntax is
    <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> <span class="inlinecode"><span class="id" title="var">v<sub>1</sub></span></span> <span class="inlinecode">..</span> <span class="inlinecode"><span class="id" title="var">vn</span></span>, or <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> <span class="inlinecode">(&gt;&gt;</span> <span class="inlinecode"><span class="id" title="var">v<sub>1</sub></span></span> <span class="inlinecode">..</span> <span class="inlinecode"><span class="id" title="var">vn</span>)</span> in the case <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">&gt;</span> <span class="inlinecode">3</span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_rhs_hints" class="idref" href="#XsimplTactic.xsimpl_demo_rhs_hints"><span class="id" title="lemma">xsimpl_demo_rhs_hints</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:169" class="idref" href="#H<sub>1</sub>:169"><span class="id" title="binder">H<sub>1</sub></span></a> (<a id="p:170" class="idref" href="#p:170"><span class="id" title="binder">p</span></a> <a id="q:171" class="idref" href="#q:171"><span class="id" title="binder">q</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:169"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:172" class="idref" href="#n:172"><span class="id" title="binder">n</span></a> <a id="m:173" class="idref" href="#m:173"><span class="id" title="binder">m</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:170"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:172"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:171"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#m:173"><span class="id" title="variable">m</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span> 8 9.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
(Advanced.) If two existential quantifiers quantify variables of the same
    type, it is possible to provide a value for only the second quantifier by
    passing as first argument to <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> the special value <span class="inlinecode"><span class="id" title="var">__</span></span>. The following
    example shows how, on LHS of the form <span class="inlinecode"><span class='gray-font'>\</span><span class="id" title="tactic">∃</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode"><span class="id" title="var">m</span>,</span> <span class="inlinecode">...</span>, the tactic
    <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> <span class="inlinecode"><span class="id" title="var">__</span></span> <span class="inlinecode">9</span> instantiates <span class="inlinecode"><span class="id" title="var">m</span></span> with <span class="inlinecode">9</span> while leaving <span class="inlinecode"><span class="id" title="var">n</span></span> as an unresolved
    evar. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_demo_rhs_hints_evar" class="idref" href="#XsimplTactic.xsimpl_demo_rhs_hints_evar"><span class="id" title="lemma">xsimpl_demo_rhs_hints_evar</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:174" class="idref" href="#H<sub>1</sub>:174"><span class="id" title="binder">H<sub>1</sub></span></a> (<a id="p:175" class="idref" href="#p:175"><span class="id" title="binder">p</span></a> <a id="q:176" class="idref" href="#q:176"><span class="id" title="binder">q</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:174"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:177" class="idref" href="#n:177"><span class="id" title="binder">n</span></a> <a id="m:178" class="idref" href="#m:178"><span class="id" title="binder">m</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#p:175"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:177"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:176"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#m:178"><span class="id" title="variable">m</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span> <span class="id" title="notation">__</span> 9.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
<a id="lab138"></a><h3 class="section"><span class="inlinecode"><span class="id" title="var">xsimpl</span></span> on Entailments Between Postconditions</h3>

<div class="paragraph"> </div>

 The tactic <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> also applies on goals of the form <span class="inlinecode"><span class="id" title="var">Q<sub>1</sub></span></span> <span class="inlinecode">===&gt;</span> <span class="inlinecode"><span class="id" title="var">Q<sub>2</sub></span></span>.

<div class="paragraph"> </div>

    For such goals, it unfolds the definition of <span class="inlinecode">===&gt;</span> to reveal an entailment
    of the form <span class="inlinecode">==&gt;</span>, then invokes the <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> tactic. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.qimpl_example_1" class="idref" href="#XsimplTactic.qimpl_example_1"><span class="id" title="lemma">qimpl_example_1</span></a> : <span class="id" title="keyword">∀</span> (<a id="Q<sub>1</sub>:179" class="idref" href="#Q<sub>1</sub>:179"><span class="id" title="binder">Q<sub>1</sub></span></a> <a id="Q<sub>2</sub>:180" class="idref" href="#Q<sub>2</sub>:180"><span class="id" title="binder">Q<sub>2</sub></span></a>:<a class="idref" href="LibSepReference.html#val"><span class="id" title="inductive">val</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="LibSepReference.html#SepSimplArgs.hprop"><span class="id" title="definition">hprop</span></a>) (<a id="H<sub>2</sub>:181" class="idref" href="#H<sub>2</sub>:181"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:182" class="idref" href="#H<sub>3</sub>:182"><span class="id" title="binder">H<sub>3</sub></span></a>:<a class="idref" href="LibSepReference.html#SepSimplArgs.hprop"><span class="id" title="definition">hprop</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#Q<sub>1</sub>:179"><span class="id" title="variable">Q<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#635f8491703dab9d0d18a6c2474b0d2a"><span class="id" title="notation"><span class='gray-font'>\</span>*+</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:181"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#9351a4f098e275023c32e0091e608189"><span class="id" title="notation">===&gt;</span></a> <a class="idref" href="Himpl.html#Q<sub>2</sub>:180"><span class="id" title="variable">Q<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#635f8491703dab9d0d18a6c2474b0d2a"><span class="id" title="notation"><span class='gray-font'>\</span>*+</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:181"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#635f8491703dab9d0d18a6c2474b0d2a"><span class="id" title="notation"><span class='gray-font'>\</span>*+</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:182"><span class="id" title="variable">H<sub>3</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>. <span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
<a id="lab139"></a><h3 class="section">Example of Entailment Proofs using <span class="inlinecode"><span class="id" title="var">xpull</span></span> and <span class="inlinecode"><span class="id" title="var">xsimpl</span></span></h3>

<div class="paragraph"> </div>

 <span class="inlinecode"><span class="id" title="var">xpull</span></span> is a simplified version of <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> that operates only the left-hand
    side of the entailement. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xpull_example_1" class="idref" href="#XsimplTactic.xpull_example_1"><span class="id" title="lemma">xpull_example_1</span></a> : <span class="id" title="keyword">∀</span> (<a id="p:183" class="idref" href="#p:183"><span class="id" title="binder">p</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:184" class="idref" href="#n:184"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="Himpl.html#p:183"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:184"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="m:185" class="idref" href="#m:185"><span class="id" title="binder">m</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="Himpl.html#p:183"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#m:185"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> 1<a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">xpull</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xpull_example_2" class="idref" href="#XsimplTactic.xpull_example_2"><span class="id" title="lemma">xpull_example_2</span></a> : <span class="id" title="keyword">∀</span> (<a id="H:186" class="idref" href="#H:186"><span class="id" title="binder">H</span></a>:<a class="idref" href="LibSepReference.html#SepSimplArgs.hprop"><span class="id" title="definition">hprop</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>[</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="LibSepReference.html#d090ebaffe5a082b6a27552ccf013e<sub>09</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H:186"><span class="id" title="variable">H</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">xpull</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">xsimpl</span></span> first invokes <span class="inlinecode"><span class="id" title="var">xpull</span></span> to simplify the left-hand side, then attempts
    to cancel out items from the right-hand side with items from the
    left-hand-side. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_example_1" class="idref" href="#XsimplTactic.xsimpl_example_1"><span class="id" title="lemma">xsimpl_example_1</span></a> : <span class="id" title="keyword">∀</span> (<a id="p:187" class="idref" href="#p:187"><span class="id" title="binder">p</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:187"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:188" class="idref" href="#n:188"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="Himpl.html#p:187"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:188"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_example_2" class="idref" href="#XsimplTactic.xsimpl_example_2"><span class="id" title="lemma">xsimpl_example_2</span></a> : <span class="id" title="keyword">∀</span> (<a id="p:189" class="idref" href="#p:189"><span class="id" title="binder">p</span></a> <a id="q:190" class="idref" href="#q:190"><span class="id" title="binder">q</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#p:189"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:190"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> 3 <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:191" class="idref" href="#n:191"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="Himpl.html#p:189"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:191"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#q:190"><span class="id" title="variable">q</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:191"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="var">xsimpl</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xsimpl_example_3" class="idref" href="#XsimplTactic.xsimpl_example_3"><span class="id" title="lemma">xsimpl_example_3</span></a> : <span class="id" title="keyword">∀</span> (<a id="p:192" class="idref" href="#p:192"><span class="id" title="binder">p</span></a>:<a class="idref" href="LibSepReference.html#loc"><span class="id" title="definition">loc</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="n:193" class="idref" href="#n:193"><span class="id" title="binder">n</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="Himpl.html#p:192"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="Himpl.html#n:193"><span class="id" title="variable">n</span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">\</span></a><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">∃</span></a> <a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">(</span></a><a id="m:194" class="idref" href="#m:194"><span class="id" title="binder">m</span></a>:<span class="id" title="notation">int</span><a class="idref" href="LibSepReference.html#961b41dcd8e5f7d3252676574333c51d"><span class="id" title="notation">),</span></a> <a class="idref" href="Himpl.html#p:192"><span class="id" title="variable">p</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#m:194"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> 1<a class="idref" href="LibSepReference.html#04d59e26c33e7500ff8979242a3d649f"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="comment">(*&nbsp;observe&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">xsimpl</span></span>&nbsp;would&nbsp;not&nbsp;work&nbsp;well&nbsp;here.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">xpull</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="var">xsimpl</span> (<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/library//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a>1). <span class="id" title="var">math</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab140"></a><h2 class="section">The <span class="inlinecode"><span class="id" title="var">xchange</span></span> Tactic</h2>

<div class="paragraph"> </div>

 The tactic <span class="inlinecode"><span class="id" title="var">xchange</span></span> is to entailment what <span class="inlinecode"><span class="id" title="tactic">rewrite</span></span> is to equality. Assume
    an entailment goal of the form <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>3</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H<sub>4</sub></span></span>. Assume an entailment
    assumption <span class="inlinecode"><span class="id" title="var">M</span></span>, say <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub>'</span></span>. Then <span class="inlinecode"><span class="id" title="var">xchange</span></span> <span class="inlinecode"><span class="id" title="var">M</span></span> turns the goal into
    <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub>'</span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>3</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H<sub>4</sub></span></span>, effectively replacing <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span> with <span class="inlinecode"><span class="id" title="var">H<sub>2</sub>'</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xchange_demo_base" class="idref" href="#XsimplTactic.xchange_demo_base"><span class="id" title="lemma">xchange_demo_base</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:195" class="idref" href="#H<sub>1</sub>:195"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:196" class="idref" href="#H<sub>2</sub>:196"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>2</sub>':197" class="idref" href="#H<sub>2</sub>':197"><span class="id" title="binder">H<sub>2</sub>'</span></a> <a id="H<sub>3</sub>:198" class="idref" href="#H<sub>3</sub>:198"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:199" class="idref" href="#H<sub>4</sub>:199"><span class="id" title="binder">H<sub>4</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>2</sub>:196"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>':197"><span class="id" title="variable">H<sub>2</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:195"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:196"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:198"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:199"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span>. <span class="id" title="var">xchange</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Note&nbsp;that&nbsp;freshly&nbsp;produced&nbsp;items&nbsp;appear&nbsp;to&nbsp;the&nbsp;front&nbsp;*)</span><br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">xchange</span></span> can also take as argument equalities. The tactic
    <span class="inlinecode"><span class="id" title="var">xchange</span></span> <span class="inlinecode"><span class="id" title="var">M</span></span> exploits the left-to-right direction of an equality <span class="inlinecode"><span class="id" title="var">M</span></span>, whereas
    <span class="inlinecode"><span class="id" title="var">xchange</span></span> <span class="inlinecode">&lt;-</span> <span class="inlinecode"><span class="id" title="var">M</span></span> exploits the right-to-left direction . 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xchange_demo_eq" class="idref" href="#XsimplTactic.xchange_demo_eq"><span class="id" title="lemma">xchange_demo_eq</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:200" class="idref" href="#H<sub>1</sub>:200"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:201" class="idref" href="#H<sub>2</sub>:201"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>3</sub>:202" class="idref" href="#H<sub>3</sub>:202"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:203" class="idref" href="#H<sub>4</sub>:203"><span class="id" title="binder">H<sub>4</sub></span></a> <a id="H<sub>5</sub>:204" class="idref" href="#H<sub>5</sub>:204"><span class="id" title="binder">H<sub>5</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:200"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:202"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Himpl.html#H<sub>5</sub>:204"><span class="id" title="variable">H<sub>5</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:200"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:201"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:202"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:203"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span>. <span class="id" title="var">xchange</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">xchange</span> &lt;- <span class="id" title="var">M</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">xchange</span></span> <span class="inlinecode"><span class="id" title="var">M</span></span> does accept a lemma or hypothesis <span class="inlinecode"><span class="id" title="var">M</span></span> featuring
    universal quantifiers, as long as its conclusion is an equality or an
    entailment. In such case, <span class="inlinecode"><span class="id" title="var">xchange</span></span> <span class="inlinecode"><span class="id" title="var">M</span></span> instantiates <span class="inlinecode"><span class="id" title="var">M</span></span> before attemting to
    perform a replacement. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xchange_demo_inst" class="idref" href="#XsimplTactic.xchange_demo_inst"><span class="id" title="lemma">xchange_demo_inst</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:205" class="idref" href="#H<sub>1</sub>:205"><span class="id" title="binder">H<sub>1</sub></span></a> (<a id="J:206" class="idref" href="#J:206"><span class="id" title="binder">J</span></a> <a id="J':207" class="idref" href="#J':207"><span class="id" title="binder">J'</span></a>:<span class="id" title="notation">int</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="LibSepReference.html#SepSimplArgs.hprop"><span class="id" title="definition">hprop</span></a>) <a id="H<sub>3</sub>:208" class="idref" href="#H<sub>3</sub>:208"><span class="id" title="binder">H<sub>3</sub></span></a> <a id="H<sub>4</sub>:209" class="idref" href="#H<sub>4</sub>:209"><span class="id" title="binder">H<sub>4</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="n:210" class="idref" href="#n:210"><span class="id" title="binder">n</span></a>, <a class="idref" href="Himpl.html#J:206"><span class="id" title="variable">J</span></a> <a class="idref" href="Himpl.html#n:210"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Himpl.html#J':207"><span class="id" title="variable">J'</span></a> (<a class="idref" href="Himpl.html#n:210"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a>1)<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:205"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#J:206"><span class="id" title="variable">J</span></a> 3 <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>3</sub>:208"><span class="id" title="variable">H<sub>3</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>4</sub>:209"><span class="id" title="variable">H<sub>4</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">M</span>. <span class="id" title="var">xchange</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Note&nbsp;that&nbsp;freshly&nbsp;produced&nbsp;items&nbsp;appear&nbsp;to&nbsp;the&nbsp;front&nbsp;*)</span><br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
How does the <span class="inlinecode"><span class="id" title="var">xchange</span></span> tactic work? Consider a goal of the form <span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H'</span></span>
    and assume <span class="inlinecode"><span class="id" title="var">xchange</span></span> is invoked with an hypothesis of type <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H<sub>1</sub>'</span></span> as
    argument. The tactic <span class="inlinecode"><span class="id" title="var">xchange</span></span> should attempt to decompose <span class="inlinecode"><span class="id" title="var">H</span></span> as the star
    of <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> and the rest of <span class="inlinecode"><span class="id" title="var">H</span></span>, call it <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span>. If it succeeds, then the goal
    <span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H'</span></span> can be rewritten as <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H'</span></span>. To exploit the hypothesis
    <span class="inlinecode"><span class="id" title="var">H<sub>1</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H<sub>1</sub>'</span></span>, the tactic should replace the goal with the entailment
    <span class="inlinecode"><span class="id" title="var">H<sub>1</sub>'</span></span> <span class="inlinecode"><span class='gray-font'>\</span>*</span> <span class="inlinecode"><span class="id" title="var">H<sub>2</sub></span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">H'</span></span>. The lemma shown below captures this piece of reasoning
    implemented by the tactic <span class="inlinecode"><span class="id" title="var">xchange</span></span>. 
<div class="paragraph"> </div>

<a id="lab141"></a><h4 class="section">Exercise: 2 stars, standard, especially useful (xchange_lemma)</h4>
 Prove, without using the tactic <span class="inlinecode"><span class="id" title="var">xchange</span></span>, the following lemma which
    captures the internal working of <span class="inlinecode"><span class="id" title="var">xchange</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="XsimplTactic.xchange_lemma" class="idref" href="#XsimplTactic.xchange_lemma"><span class="id" title="lemma">xchange_lemma</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:211" class="idref" href="#H<sub>1</sub>:211"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>1</sub>':212" class="idref" href="#H<sub>1</sub>':212"><span class="id" title="binder">H<sub>1</sub>'</span></a> <a id="H:213" class="idref" href="#H:213"><span class="id" title="binder">H</span></a> <a id="H':214" class="idref" href="#H':214"><span class="id" title="binder">H'</span></a> <a id="H<sub>2</sub>:215" class="idref" href="#H<sub>2</sub>:215"><span class="id" title="binder">H<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:211"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>1</sub>':212"><span class="id" title="variable">H<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H:213"><span class="id" title="variable">H</span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>1</sub>:211"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:215"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>':212"><span class="id" title="variable">H<sub>1</sub>'</span></a> <a class="idref" href="LibSepReference.html#6e7aeeae3643da4efcca62b993bbca40"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:215"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H':214"><span class="id" title="variable">H'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H:213"><span class="id" title="variable">H</span></a> <a class="idref" href="LibSepReference.html#c7ebd77e939e3f02c508e57b470dc021"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H':214"><span class="id" title="variable">H'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="code">

<span class="id" title="keyword">End</span> <a class="idref" href="Himpl.html#XsimplTactic"><span class="id" title="module">XsimplTactic</span></a>.<br/>
</div>

<div class="doc">
<a id="lab142"></a><h1 class="section">Optional Material</h1>

</div>

<div class="doc">
<a id="lab143"></a><h2 class="section">Proofs of Rules for Entailment</h2>

</div>
<div class="code">

<span class="id" title="keyword">Module</span> <a id="EntailmentRulesProofs" class="idref" href="#EntailmentRulesProofs"><span class="id" title="module">EntailmentRulesProofs</span></a>.<br/>
</div>

<div class="doc">
We next show the details of the proofs establishing the fundamental
    properties of the Separation Logic operators. All these results must be
    proved without help of the tactic <span class="inlinecode"><span class="id" title="var">xsimpl</span></span>, because the implementation of
    the tactic <span class="inlinecode"><span class="id" title="var">xsimpl</span></span> itself depends on these fundamental properties. We begin
    with the frame property, which is the simplest to prove. 
<div class="paragraph"> </div>

<a id="lab144"></a><h4 class="section">Exercise: 1 star, standard, especially useful (himpl_frame_l)</h4>
 Prove the frame property for entailment. Hint: unfold the definition of
    <span class="inlinecode"><span class="id" title="var">hstar</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="EntailmentRulesProofs.himpl_frame_l" class="idref" href="#EntailmentRulesProofs.himpl_frame_l"><span class="id" title="lemma">himpl_frame_l</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>2</sub>:216" class="idref" href="#H<sub>2</sub>:216"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>1</sub>:217" class="idref" href="#H<sub>1</sub>:217"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>1</sub>':218" class="idref" href="#H<sub>1</sub>':218"><span class="id" title="binder">H<sub>1</sub>'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:217"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>1</sub>':218"><span class="id" title="variable">H<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>:217"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:216"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>':218"><span class="id" title="variable">H<sub>1</sub>'</span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:216"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

 The lemma <span class="inlinecode"><span class="id" title="var">himpl_frame_l</span></span> admits two useful corollaries, presented next. 
<div class="paragraph"> </div>

<a id="lab145"></a><h4 class="section">Exercise: 1 star, standard, especially useful (himpl_frame_r)</h4>
 Prove <span class="inlinecode"><span class="id" title="var">himpl_frame_r</span></span>, which is the symmetric of <span class="inlinecode"><span class="id" title="var">himpl_frame_l</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="EntailmentRulesProofs.himpl_frame_r" class="idref" href="#EntailmentRulesProofs.himpl_frame_r"><span class="id" title="lemma">himpl_frame_r</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:219" class="idref" href="#H<sub>1</sub>:219"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>2</sub>:220" class="idref" href="#H<sub>2</sub>:220"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>2</sub>':221" class="idref" href="#H<sub>2</sub>':221"><span class="id" title="binder">H<sub>2</sub>'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>2</sub>:220"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>':221"><span class="id" title="variable">H<sub>2</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>:219"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:220"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>:219"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>':221"><span class="id" title="variable">H<sub>2</sub>'</span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab146"></a><h4 class="section">Exercise: 1 star, standard, especially useful (himpl_frame_lr)</h4>
 The monotonicity property of the star operator w.r.t. entailment can also be
    stated in a symmetric fashion, as shown next. Prove this result. Hint:
    exploit the transitivity of entailment (<span class="inlinecode"><span class="id" title="var">himpl_trans</span></span>) and the asymmetric
    monotonicity result (<span class="inlinecode"><span class="id" title="var">himpl_frame_l</span></span>). 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="EntailmentRulesProofs.himpl_frame_lr" class="idref" href="#EntailmentRulesProofs.himpl_frame_lr"><span class="id" title="lemma">himpl_frame_lr</span></a> : <span class="id" title="keyword">∀</span> <a id="H<sub>1</sub>:222" class="idref" href="#H<sub>1</sub>:222"><span class="id" title="binder">H<sub>1</sub></span></a> <a id="H<sub>1</sub>':223" class="idref" href="#H<sub>1</sub>':223"><span class="id" title="binder">H<sub>1</sub>'</span></a> <a id="H<sub>2</sub>:224" class="idref" href="#H<sub>2</sub>:224"><span class="id" title="binder">H<sub>2</sub></span></a> <a id="H<sub>2</sub>':225" class="idref" href="#H<sub>2</sub>':225"><span class="id" title="binder">H<sub>2</sub>'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>1</sub>:222"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>1</sub>':223"><span class="id" title="variable">H<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#H<sub>2</sub>:224"><span class="id" title="variable">H<sub>2</sub></span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>':225"><span class="id" title="variable">H<sub>2</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>:222"><span class="id" title="variable">H<sub>1</sub></span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>:224"><span class="id" title="variable">H<sub>2</sub></span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">(</span></a><a class="idref" href="Himpl.html#H<sub>1</sub>':223"><span class="id" title="variable">H<sub>1</sub>'</span></a> <a class="idref" href="Hprop.html#1c2e0971edf6e9b6c6dd4a5951d04f<sub>36</sub>"><span class="id" title="notation"><span class='gray-font'>\</span>*</span></a> <a class="idref" href="Himpl.html#H<sub>2</sub>':225"><span class="id" title="variable">H<sub>2</sub>'</span></a><a class="idref" href="Himpl.html#7cf9375cc810cd6cb65186f6ede01686"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="code">

<span class="id" title="keyword">End</span> <a class="idref" href="Himpl.html#EntailmentRulesProofs"><span class="id" title="module">EntailmentRulesProofs</span></a>.<br/>
</div>

<div class="doc">
<a id="lab147"></a><h2 class="section">Historical Notes</h2>

<div class="paragraph"> </div>

 Nearly every project that aims for practical program verification using
    Separation Logic features, in one way or another, some amount of tooling for
    automatically simplifying Separation Logic assertion. The tactic used here,
    <span class="inlinecode"><span class="id" title="var">xsimpl</span></span>, was developed for the CFML tool. Its specification may be found in
    Appendix K from Charguéraud's ICFP'20 paper:
    <a href='http://www.chargueraud.org/research/2020/seq_seplogic/seq_seplogic.pdf'>http://www.chargueraud.org/research/2020/seq_seplogic/seq_seplogic.pdf</a>
</div>
<div class="code">

<span class="comment">(*&nbsp;2024-01-03&nbsp;14:19&nbsp;*)</span><br/>
</div>
</div>

<div id="footer">
<hr/><a href="coqindex.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>